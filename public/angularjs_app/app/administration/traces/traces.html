<!-- page heading debut-->
<div class="page-heading">
	<ul class="breadcrumb">
		<li><a href="#/administration">Administration</a></li>
		<li class="active"> Traçabilité </li>
	</ul>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-default"><div class="panel-body">
			<div class="col-lg-12">
				<form class="form-horizontal">
					<div class="form-group col-sm-6">
						<label class="col-sm-5 control-label">Date debut :</label>
						<div class="input-group col-sm-7">
							<input type="text" class="form-control">
						</div>
					</div>
					<div class="form-group col-sm-6">
						<label class="col-sm-5 control-label">Date fin :</label>
						<div class="input-group col-sm-7">
							<input type="text" class="form-control">
						</div>
					</div>
					<div class="form-group col-sm-6">
						<label class="col-sm-5 control-label">Utilisateur :</label>
						<div class="input-group col-sm-7">
							<select id="user" class="form-control" name="users" ng-class="{error : traceForm.users.$error.required && submitted}" ng-model="profil" ng-options="profil.label for profil in profils" multiple>
								<option value="" onclick="select()" id="vide">Tous les utilisateurs</option>
							</select>
						</div>
					</div>
					<div class="form-group col-lg-6">
						<label class="col-sm-5 control-label">Fonctionnalité :</label>
							<div class="input-group col-sm-7">
								<select class="form-control " ng-model="utilisateur" ng-options="utilisateur.lastname for utilisateur in utilisateurs">
								</select>
							</div>
					</div>
					<div class="form-group col-sm-6">
						<label class="col-sm-5 control-label">Mot clé :</label>
						<div class="input-group col-sm-4">
							<input type="text" class="form-control">
						</div>
					</div>
					<div class="form-group col-sm-12">
						<label class="col-sm-10 control-label"></label>
						<div class="input-group col-sm-2">
							<button type="button" class="btn btn-danger col-lg-10">
								<span class="glyphicon glyphicon-search" aria-hidden="true"></span> Chercher
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<!-- page heading end-->
<div class="col-sm-12">
	<div class="row administration">
		<table class="table table-bordered table-striped table-hover table-condensed">
			<thead>
			<tr>
				<th width="100px">Plus d&#146;infos</th>
				<th>Objet</th>
				<th>Action</th>
				<th>Date d'op&eacute;ration</th>
				<th>Utilisateur</th>
			</tr>
			</thead>
			<tbody>
			<tr ng-repeat-start="trace in traces">
				<td align="center" ng-click="trace.show=!trace.show">
					<span class="glyphicon glyphicon-minus" ng-show="trace.show" ></span>
					<span class="glyphicon glyphicon-plus" ng-hide="trace.show"></span>
				</td>
				<td class="truncate">{{trace.rubrique}}</td>
				<td>{{trace.action}}</td>
				<td>{{trace.addDate | date:"dd/MM/yyyy &agrave; HH'h':mm'min'"}}</td>
				<td>{{trace.user}}</td>
			</tr>
			<tr ng-repeat-end ng-show="trace.show">
				<td></td>
				<td colspan="4">
					<table class="table">
						<thead>
						<th >Param&egrave;tre</th>
						<th  width="300px">Valeur initiale</th>
						<th  width="300px">Nouvelle valeur</th>
						</thead>
						<tbody>
						<tr ng-repeat="parm in parametres">
							<td>{{parm.parametre}}</td>
							<td>{{parm.newValue}}</td>
							<td>{{parm.oldValue}}</td>
						</tr>
						</tbody>
					</table>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>


<nav>
  <ul class="pagination">
    <li>
      <a href="#/traces" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    <li><a href="#/traces">1</a></li>
    <li><a href="#/traces">2</a></li>
    <li><a href="#/traces">3</a></li>
    <li><a href="#/traces">4</a></li>
    <li><a href="#/traces">5</a></li>
    <li>
      <a href="#/traces" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>
</div>